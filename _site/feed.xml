<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Krzysztof Maicher</title>
    <description></description>
    <link>http://maicher.github.io/</link>
    <atom:link href="http://maicher.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 01 Jul 2016 18:40:27 +0200</pubDate>
    <lastBuildDate>Fri, 01 Jul 2016 18:40:27 +0200</lastBuildDate>
    <generator>Jekyll v3.1.6</generator>
    
      <item>
        <title>Verifying database schema in console</title>
        <description>
&lt;p&gt;In Rails we have a &lt;code class=&quot;highlighter-rouge&quot;&gt;schema.rb&lt;/code&gt; file, where we can check, how our database looks like.&lt;/p&gt;

&lt;p&gt;However, logging in to database console can be sometimes useful.&lt;/p&gt;

&lt;p&gt;Here are a list of needed console commands.&lt;/p&gt;

&lt;h3 id=&quot;psql-and-mysql-console-commands&quot;&gt;PSQL and MySQL console commands&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;PostgreSQL&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;&lt;strong&gt;MySQL&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;\list&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;show databases;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;show database list&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;\connect DBNAME&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;use DBNAME;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;connec to to database&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;\dt&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;show tables;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;show all tables&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;\d+ TABLE&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;describe TABLE;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;show table details&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;\q&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;exit;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;exit from console&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
&lt;/table&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h3 id=&quot;how-to-log-into-database-console&quot;&gt;How to log into database console?&lt;/h3&gt;

&lt;p&gt;It depends on the operation system and how the database was installed.&lt;/p&gt;

&lt;p&gt;In general:&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;PostgreSQL&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;&lt;strong&gt;MySQL&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;$ psql&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;$ mysql -u root -p&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
&lt;/table&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h3 id=&quot;when-checking-console-can-be-helpful&quot;&gt;When checking console can be helpful?&lt;/h3&gt;

&lt;p&gt;Lastly I found myself experimenting in psql console, when I was setting indexes inside psql jsonb fields. I wasn’t sure, if Rails migration modified database schema how I expected, so I wanted to double check it in the console.&lt;/p&gt;

&lt;p&gt;Other examples can be:&lt;/p&gt;

&lt;h4 id=&quot;to-check-differences-between-test-and-development-database&quot;&gt;To check differences between test and development database&lt;/h4&gt;

&lt;h4 id=&quot;to-check-results-of-custom-sql-in-migrations&quot;&gt;To check results of custom SQL in migrations&lt;/h4&gt;

&lt;h4 id=&quot;to-modify-foreign-keys-or-indexes-which-names-are-not-rails-default&quot;&gt;To modify foreign keys or indexes, which names are not Rails default&lt;/h4&gt;
</description>
        <pubDate>Wed, 29 Jun 2016 10:24:10 +0200</pubDate>
        <link>http://maicher.github.io/verifying-database-schema-in-console.html</link>
        <guid isPermaLink="true">http://maicher.github.io/verifying-database-schema-in-console.html</guid>
        
        <category>ruby</category>
        
        <category>rails</category>
        
        <category>migrations</category>
        
        <category>psql</category>
        
        <category>PostgreSQL</category>
        
        <category>MySQL</category>
        
        
      </item>
    
  </channel>
</rss>
