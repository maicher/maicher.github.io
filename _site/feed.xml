<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Krzysztof Maicher</title>
    <description></description>
    <link>http://maicher.github.io/</link>
    <atom:link href="http://maicher.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sat, 30 Jul 2016 12:19:02 +0200</pubDate>
    <lastBuildDate>Sat, 30 Jul 2016 12:19:02 +0200</lastBuildDate>
    <generator>Jekyll v3.1.6</generator>
    
      <item>
        <title>Implementation of FTP data downloading in Ruby. Part 1: designing database</title>
        <description>&lt;h3 id=&quot;introduction&quot;&gt;Introduction&lt;/h3&gt;

&lt;p&gt;Some time ago, I’ve created a Ruby on Rails application, which purpose was to present data (electric and gas meter readings) by charts and tables.
The application was acquiring that data from FTP.&lt;/p&gt;

&lt;p&gt;You can read more about that app &lt;a href=&quot;/freelance-ruby-or-rails-application-development&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In these article I would like to present, how I’ve approached the database designing process.&lt;/p&gt;

&lt;h3 id=&quot;analyzing-the-data&quot;&gt;Analyzing the data&lt;/h3&gt;

&lt;p&gt;Data, that were stored on FTP by meters had following characteristics:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;meter readings in csv files on FTP server&lt;/li&gt;
  &lt;li&gt;about 50 lines in each file&lt;/li&gt;
  &lt;li&gt;one line represent one reading (two values, timestamp and a meter number)&lt;/li&gt;
  &lt;li&gt;around 30 new files a day (can be more in future)&lt;/li&gt;
  &lt;li&gt;that gives around 1.5k new readings every day&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Over a year, the data would grow to &lt;em&gt;1.5k x 365&lt;/em&gt;, that is around &lt;em&gt;0.5M&lt;/em&gt; records each year.
That is not that much and a properly designed PostgreSQL database can handle that amount of data without any problems.
My idea was to store that data in a relational database, that would allow me to easily access it later to view it as charts or tables.&lt;/p&gt;

&lt;h3 id=&quot;designing-database&quot;&gt;Designing database&lt;/h3&gt;

&lt;p&gt;I decided, that the application will interact with database by ActiveRecord models. I like to use ActiveRecord, because of its ease of use.
However, when it comes to creating new ActiveRecord models, my approach may be different from other Rails developers.
What I seen, that sometimes Rails developers jump into generating models (using &lt;code class=&quot;highlighter-rouge&quot;&gt;rails generate model ...&lt;/code&gt;) without any thoughts about how the database should look like.
I like to come up with a &lt;strong&gt;database design upfront&lt;/strong&gt; (in mind, on paper or in some tool) and after that, I start generating ActiveRecord models and adjust settings in migrations to satisfy the database design.
In other words I design database at first, and then I build an &lt;strong&gt;ActiveRecord models layer on top of it&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;In this case I came up with following database schema.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/gt_readings_db.png&quot; alt=&quot;Database schema&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I generated that schema using SQL Power Architect tool afterwards. It is not complex, so I could make that design in my head before start generating models.
However, if project needs more tables with more sophisticated relations between them, I could draw that design on paper or in that tool before generating models and migrations.&lt;/p&gt;

&lt;p&gt;Btw. during my career I found out that presenting this kind of schemas in projects’ documentations helps other developers to understand projects’ database design.&lt;/p&gt;

&lt;p&gt;Because the tables was generated from Rails, it can be assumed, that they follow all Rails conventions.&lt;/p&gt;

&lt;p&gt;How to read that schema?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;There are 3 tables: &lt;code class=&quot;highlighter-rouge&quot;&gt;meters&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;readings&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;ftp_files&lt;/code&gt; (in application they are represented by models: Meter, Reading, FtpFile).&lt;/li&gt;
  &lt;li&gt;Each table has a &lt;code class=&quot;highlighter-rouge&quot;&gt;id&lt;/code&gt; row, which is a Primary Key (&lt;code class=&quot;highlighter-rouge&quot;&gt;[PK]&lt;/code&gt;).&lt;/li&gt;
  &lt;li&gt;There are various column types: &lt;code class=&quot;highlighter-rouge&quot;&gt;INTEGER&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;VARCHAR&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;TIMESTAMP&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Some columns have a non-null constraint (&lt;code class=&quot;highlighter-rouge&quot;&gt;[AK]&lt;/code&gt;).&lt;/li&gt;
  &lt;li&gt;A &lt;a href=&quot;https://www.postgresql.org/docs/8.1/static/tutorial-fk.html&quot;&gt;foreign key&lt;/a&gt; is set between meters and readings tables (&lt;code class=&quot;highlighter-rouge&quot;&gt;[FK]&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I’d like to ask you, after seeing that, can you create Rails migrations, the result of which would be above schema?&lt;/p&gt;

&lt;h3 id=&quot;unique-indexes&quot;&gt;Unique indexes&lt;/h3&gt;

&lt;p&gt;What cannot be seen in schema presented above is unique indexes.
I’d like describe them here.&lt;/p&gt;

&lt;p&gt;My idea of &lt;em&gt;ftp_files&lt;/em&gt; table was to store a list of file names, that have already been parsed.
It’s pointless to allow keeping there doubled names. That is why I set a &lt;a href=&quot;https://www.postgresql.org/docs/9.4/static/indexes-unique.html&quot;&gt;unique index&lt;/a&gt; on the &lt;em&gt;name&lt;/em&gt; column.&lt;/p&gt;

&lt;p&gt;A &lt;em&gt;Meter&lt;/em&gt; is identified by it’s &lt;em&gt;number&lt;/em&gt;.
There has to be only one meter with given number, that’s why I decided to apply unique index on it as well.
Having a unique index on that column gives the assurance, that in application, every time a meter will be searched by number, there will be zero or exactly one meter found.&lt;/p&gt;

&lt;p&gt;As it goes tor &lt;em&gt;readings&lt;/em&gt;, it is highly undesirable to double readings in database, because charts created from them would present incorrect values.
One reading consists of 4 data. A &lt;em&gt;timestamp&lt;/em&gt;, &lt;em&gt;meter_id&lt;/em&gt;, &lt;em&gt;value1&lt;/em&gt;, &lt;em&gt;value2&lt;/em&gt;. How to prevent from saving double readings?
In PostgreSQL a unique index can also be applied to group of columns.
There is a complete certainty, that when application for any reason (bug, my or some other developers mistake, or even a client’s software bug) will try to save a double reading, an exception will be raised (from database level), which is very desirable.
I don’t want to see double readings in that database. Unique indexes guarantees it and I can rely on that.&lt;/p&gt;

&lt;h3 id=&quot;data-integrity&quot;&gt;Data integrity&lt;/h3&gt;

&lt;p&gt;It is highly probable, that that peace of database will keep it own &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_integrity&quot;&gt;data integrity&lt;/a&gt; regardless of what will happen in application (if of course the application will not modify the schema).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Meters will not be doubled.&lt;/li&gt;
  &lt;li&gt;Readings will not be doubled.&lt;/li&gt;
  &lt;li&gt;There will be no readings without a value, timestamp or associated meter.&lt;/li&gt;
  &lt;li&gt;There will be no &lt;a href=&quot;http://www.dhdursoassociates.com/database-glossary-3.html#orphan&quot;&gt;orphaned records&lt;/a&gt; on meters-readings associacion.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note, that the &lt;strong&gt;security is kept on a database layer&lt;/strong&gt;. I other words, the database uses it own mechanisms to prevent loosing its own integrity.&lt;/p&gt;

&lt;p&gt;That database doesn’t need ActiveRecord layer to keep data integrity, which is desirable, bacause ActiveRecord validations (even though they are very useful and helpful) &lt;strong&gt;doesn’t guarantee the application’s data integrity&lt;/strong&gt;.
That is because ActiveRecords validations can be omitted by using following methods:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;#save(validate: false)&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;.update_attribute&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;delete&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;.delete_all&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;.update_all&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Furthermore someone can modify database tables by raw SQL queries, or even by logging into psql console to run some updates or inserts. Finally, my own code can have bugs and for example can try to create double records.&lt;/p&gt;

&lt;h3 id=&quot;summary&quot;&gt;Summary&lt;/h3&gt;

&lt;p&gt;I see database as a layer, that can keep its data consistency by itself, without the use of ActiveRecord models.
I use ActiveRecord often and I think it is a solid piece of library. It speeds up the development process, comparing to not using any ORM system at all.
However using ActiveRecord models without a solidly designed database can lead to frustrations and to lots of maintenance work, when database will start loosing its integrity.&lt;/p&gt;

&lt;p&gt;When you aim for a solid database design, learn about foreign keys and start using them.
Start using uniqueness validations not only in ActiveRecord models, but at a database layer as well (including unique indexes on groups or inside json fields).
Start specifying if a column can have null value or not and if not, then specify a default value.&lt;/p&gt;
</description>
        <pubDate>Mon, 25 Jul 2016 21:39:04 +0200</pubDate>
        <link>http://maicher.github.io/implementation-of-ftp-data-downloading-in-ruby-designing-database.html</link>
        <guid isPermaLink="true">http://maicher.github.io/implementation-of-ftp-data-downloading-in-ruby-designing-database.html</guid>
        
        <category>Ruby</category>
        
        <category>Rails</category>
        
        <category>database</category>
        
        <category>PostgreSQL</category>
        
        
      </item>
    
      <item>
        <title>Freelance Ruby on Rails application development</title>
        <description>&lt;h3 id=&quot;introduction&quot;&gt;Introduction&lt;/h3&gt;

&lt;p&gt;I took a few days off from my regular work to create an application for an employment agency located in Holland. I would like to present here, how I’ve approached this task. I invite you to read!&lt;/p&gt;

&lt;h3 id=&quot;background&quot;&gt;Background&lt;/h3&gt;

&lt;p&gt;The client was an employment agency, that organizes work for people in agricultural sector. They also provide accommodation for their employees during the time of their employment. The client wanted to be able to monitor gas and electricity consumption in those places.
They already had meters installed (a kind of &lt;a href=&quot;https://en.wikipedia.org/wiki/Smart_meter&quot;&gt;Smart Meters&lt;/a&gt;) at those places. These meter were performing &lt;strong&gt;readings&lt;/strong&gt; every few minutes and collecting them as &lt;strong&gt;files on FTP server&lt;/strong&gt;.
It was hard for the client to view and manage these reading, so the client was looking for a solution, that would view all these data in a more friendly form, like &lt;strong&gt;tables and charts&lt;/strong&gt;.
They also wanted to group these data by addresses, perform some comparisons, see daily and hourly usage in selected date ranges and have costs per person automatically calculated.
They contacted me and asked to propose a solution.&lt;/p&gt;

&lt;h3 id=&quot;the-solution&quot;&gt;The solution&lt;/h3&gt;

&lt;p&gt;Currently, I specialize in building web application using Ruby on Rails and it seemed like a &lt;strong&gt;Ruby on Rails web application&lt;/strong&gt; could satisfy client’s requirements.
I proposed following solution, consisting of three parts:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;An admin panel with classic CRUD for managing addresses and settings (Ruby on Rails, PostgreSQL).&lt;/li&gt;
  &lt;li&gt;A script, acquiring data from ftp server (Ruby, CRON).&lt;/li&gt;
  &lt;li&gt;Minimalistic frontend with a nice tables and charts (HTML/CSS, Bootstrap3, JavaScript with some AngularJS inserts).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I contacted the client to discuss each of above part once again. I wanted to check, if I understood their requirements.
We agreed on &lt;a href=&quot;http://c2.com/cgi/wiki?TimeAndMaterialContract&quot;&gt;time &amp;amp; material&lt;/a&gt; &lt;a href=&quot;https://blog.lelonek.me/how-to-charge-our-clients-ade8b6a53102#.tr023ghm4&quot;&gt;payment model&lt;/a&gt; and I presented hourly estimates for each of above part, to get them a sens of costs.
I declared to contact them at the end of each part to show the progress and to discuss some potential changes or misunderstandings.&lt;/p&gt;

&lt;h3 id=&quot;work-process&quot;&gt;Work process&lt;/h3&gt;

&lt;p&gt;For my own convenience, I decided to keep the code quality high.
I mean to keep the code decoupled, write tests, pay attention to data integrity (validations, foreign keys, unique indexes), handle edge cases, follow the unofficial Ruby style guide and use Rubocop to check it.&lt;/p&gt;

&lt;p&gt;Keeping the code quality high and a &lt;a href=&quot;http://thecleancoder.blogspot.com/2010/09/hacker-novice-artist-and-craftsman.html&quot;&gt;craftsmanship approach&lt;/a&gt; helped me go through development process efficiently.&lt;/p&gt;

&lt;h3 id=&quot;results&quot;&gt;Results&lt;/h3&gt;

&lt;p&gt;In future posts I will try to show some code snippets.&lt;/p&gt;

&lt;p&gt;Here are some screens of the finished app.&lt;/p&gt;

&lt;div style=&quot;width:100%;text-align:center;margin-bottom:40px&quot;&gt;
    &lt;a target=&quot;_blank&quot; href=&quot;/assets/gt_dashboard.jpg&quot;&gt;&lt;img style=&quot;max-width:350px&quot; src=&quot;/assets/min/gt_dashboard.jpg&quot; alt=&quot;Bar charts showing gas and electricity cost for each address in selected date range&quot; /&gt;&lt;/a&gt;
    &lt;br /&gt;
    &lt;caption align=&quot;bottom&quot;&gt;Bar charts showing gas and electricity cost for each address in selected date range&lt;/caption&gt;
&lt;/div&gt;

&lt;div style=&quot;width:100%;text-align:center;margin-bottom:40px&quot;&gt;
    &lt;a target=&quot;_blank&quot; href=&quot;/assets/gt_charts_days.jpg&quot;&gt;&lt;img style=&quot;max-width:350px&quot; src=&quot;/assets/min/gt_charts_days.jpg&quot; alt=&quot;Line charts showing daily electricity consumption for selected addresses and date range&quot; /&gt;&lt;/a&gt;
    &lt;br /&gt;
    &lt;caption align=&quot;bottom&quot;&gt;Line charts showing daily electricity consumption for selected addresses and date range&lt;/caption&gt;
&lt;/div&gt;

&lt;div style=&quot;width:100%;text-align:center;margin-bottom:40px&quot;&gt;
    &lt;a target=&quot;_blank&quot; href=&quot;/assets/gt_charts2_hours.jpg&quot;&gt;&lt;img style=&quot;max-width:350px&quot; src=&quot;/assets/min/gt_charts2_hours.jpg&quot; alt=&quot;Line charts showing hourly electricity consumption for selected addresses and one day&quot; /&gt;&lt;/a&gt;
    &lt;br /&gt;
    &lt;caption align=&quot;bottom&quot;&gt;Line charts showing hourly electricity consumption for selected addresses and one day&lt;/caption&gt;
&lt;/div&gt;

&lt;div style=&quot;width:100%;text-align:center;margin-bottom:40px&quot;&gt;
    &lt;a target=&quot;_blank&quot; href=&quot;/assets/gt_meters_index.jpg&quot;&gt;&lt;img style=&quot;max-width:350px&quot; src=&quot;/assets/min/gt_meters_index.jpg&quot; alt=&quot;Meters table&quot; /&gt;&lt;/a&gt;
    &lt;br /&gt;
    &lt;caption align=&quot;bottom&quot;&gt;Meters table&lt;/caption&gt;
&lt;/div&gt;

&lt;div style=&quot;width:100%;text-align:center;margin-bottom:40px&quot;&gt;
    &lt;a target=&quot;_blank&quot; href=&quot;/assets/gt_address_index.jpg&quot;&gt;&lt;img style=&quot;max-width:350px&quot; src=&quot;/assets/min/gt_address_index.jpg&quot; alt=&quot;Addresses table&quot; /&gt;&lt;/a&gt;
    &lt;br /&gt;
    &lt;caption align=&quot;bottom&quot;&gt;Addresses table&lt;/caption&gt;
&lt;/div&gt;

&lt;div style=&quot;width:100%;text-align:center;margin-bottom:40px&quot;&gt;
    &lt;a target=&quot;_blank&quot; href=&quot;/assets/gt_address_edit.jpg&quot;&gt;&lt;img style=&quot;max-width:350px&quot; src=&quot;/assets/min/gt_address_edit.jpg&quot; alt=&quot;Address edit form&quot; /&gt;&lt;/a&gt;
    &lt;br /&gt;
    &lt;caption align=&quot;bottom&quot;&gt;Address edit form&lt;/caption&gt;
&lt;/div&gt;

&lt;div style=&quot;width:100%;text-align:center;margin-bottom:40px&quot;&gt;
    &lt;a target=&quot;_blank&quot; href=&quot;/assets/gt_login.jpg&quot;&gt;&lt;img style=&quot;max-width:350px&quot; src=&quot;/assets/min/gt_login.jpg&quot; alt=&quot;Admin login form&quot; /&gt;&lt;/a&gt;
    &lt;br /&gt;
    &lt;caption align=&quot;bottom&quot;&gt;Admin login form&lt;/caption&gt;
&lt;/div&gt;

&lt;div style=&quot;width:100%;text-align:center;margin-bottom:40px&quot;&gt;
    &lt;a target=&quot;_blank&quot; href=&quot;/assets/gt_stats.jpg&quot;&gt;&lt;img style=&quot;max-width:350px&quot; src=&quot;/assets/min/gt_stats.jpg&quot; alt=&quot;Statistics&quot; /&gt;&lt;/a&gt;
    &lt;br /&gt;
    &lt;caption align=&quot;bottom&quot;&gt;Statistics&lt;/caption&gt;
&lt;/div&gt;
</description>
        <pubDate>Tue, 12 Jul 2016 11:11:04 +0200</pubDate>
        <link>http://maicher.github.io/freelance-ruby-or-rails-application-development.html</link>
        <guid isPermaLink="true">http://maicher.github.io/freelance-ruby-or-rails-application-development.html</guid>
        
        <category>ruby</category>
        
        <category>rails</category>
        
        <category>freelance</category>
        
        <category>angular</category>
        
        <category>angularjs</category>
        
        <category>application</category>
        
        <category>web application</category>
        
        <category>software development</category>
        
        
      </item>
    
      <item>
        <title>Verifying database schema in console</title>
        <description>
&lt;p&gt;In Rails we have a &lt;code class=&quot;highlighter-rouge&quot;&gt;schema.rb&lt;/code&gt; file, where we can check, how our database looks like.&lt;/p&gt;

&lt;p&gt;However, logging in to database console can be sometimes useful.&lt;/p&gt;

&lt;p&gt;Here are a list of needed console commands.&lt;/p&gt;

&lt;h3 id=&quot;psql-and-mysql-console-commands&quot;&gt;PSQL and MySQL console commands&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;PostgreSQL&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;&lt;strong&gt;MySQL&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;\list&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;show databases;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;show database list&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;\connect DBNAME&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;use DBNAME;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;connec to to database&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;\dt&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;show tables;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;show all tables&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;\d+ TABLE&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;describe TABLE;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;show table details&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;\q&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;exit;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;exit from console&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
&lt;/table&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h3 id=&quot;how-to-log-into-database-console&quot;&gt;How to log into database console?&lt;/h3&gt;

&lt;p&gt;It depends on the operation system and how the database was installed.&lt;/p&gt;

&lt;p&gt;In general:&lt;/p&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;PostgreSQL&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;&lt;strong&gt;MySQL&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;$ psql&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;$ mysql -u root -p&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
&lt;/table&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h3 id=&quot;when-checking-console-can-be-helpful&quot;&gt;When checking console can be helpful?&lt;/h3&gt;

&lt;p&gt;Lastly I found myself experimenting in psql console, when I was setting indexes inside psql jsonb fields. I wasn’t sure, if Rails migration modified database schema how I expected, so I wanted to double check it in the console.&lt;/p&gt;

&lt;p&gt;Other examples can be:&lt;/p&gt;

&lt;h4 id=&quot;to-check-differences-between-test-and-development-database&quot;&gt;To check differences between test and development database&lt;/h4&gt;

&lt;h4 id=&quot;to-check-results-of-custom-sql-in-migrations&quot;&gt;To check results of custom SQL in migrations&lt;/h4&gt;

&lt;h4 id=&quot;to-modify-foreign-keys-or-indexes-which-names-are-not-rails-default&quot;&gt;To modify foreign keys or indexes, which names are not Rails default&lt;/h4&gt;
</description>
        <pubDate>Wed, 29 Jun 2016 10:24:10 +0200</pubDate>
        <link>http://maicher.github.io/verifying-database-schema-in-console.html</link>
        <guid isPermaLink="true">http://maicher.github.io/verifying-database-schema-in-console.html</guid>
        
        <category>ruby</category>
        
        <category>rails</category>
        
        <category>migrations</category>
        
        <category>psql</category>
        
        <category>PostgreSQL</category>
        
        <category>MySQL</category>
        
        
      </item>
    
  </channel>
</rss>
